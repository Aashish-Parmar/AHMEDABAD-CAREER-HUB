{
  "info": {
    "name": "Ahmedabad Career Hub - Recruiter Role API",
    "description": "Complete API collection for Recruiter role functionality",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:5000/api",
      "type": "string"
    },
    {
      "key": "token",
      "value": "",
      "type": "string"
    },
    {
      "key": "userId",
      "value": "",
      "type": "string"
    },
    {
      "key": "companyId",
      "value": "",
      "type": "string"
    },
    {
      "key": "jobId",
      "value": "",
      "type": "string"
    },
    {
      "key": "applicationId",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Register Recruiter",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('token', jsonData.token);",
                  "    pm.collectionVariables.set('userId', jsonData.userId);",
                  "    pm.collectionVariables.set('companyId', jsonData.company);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"John Recruiter\",\n  \"email\": \"recruiter@example.com\",\n  \"password\": \"Password123\",\n  \"role\": \"recruiter\",\n  \"company\": \"{{companyId}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "register"]
            },
            "description": "Register a new recruiter account. Requires a valid company ID."
          },
          "response": []
        },
        {
          "name": "Login Recruiter",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('token', jsonData.token);",
                  "    pm.collectionVariables.set('userId', jsonData.userId);",
                  "    pm.collectionVariables.set('companyId', jsonData.company);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"recruiter@example.com\",\n  \"password\": \"Password123\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            },
            "description": "Login as a recruiter. Returns JWT token."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Company Management",
      "item": [
        {
          "name": "Get All Companies",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/companies?page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["companies"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "search",
                  "value": "",
                  "description": "Optional: Search by company name",
                  "disabled": true
                }
              ]
            },
            "description": "Get all companies (public endpoint, paginated). Use this to find company IDs for registration."
          },
          "response": []
        },
        {
          "name": "Get Company by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/companies/{{companyId}}",
              "host": ["{{baseUrl}}"],
              "path": ["companies", "{{companyId}}"]
            },
            "description": "Get details of a specific company."
          },
          "response": []
        },
        {
          "name": "Create Company",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('companyId', jsonData._id);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"companyName\": \"Tech Solutions Inc\",\n  \"description\": \"A leading technology company\",\n  \"website\": \"https://techsolutions.com\",\n  \"logoUrl\": \"https://example.com/logo.png\",\n  \"address\": \"Ahmedabad, Gujarat\",\n  \"techStack\": [\"React\", \"Node.js\", \"MongoDB\"]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/companies",
              "host": ["{{baseUrl}}"],
              "path": ["companies"]
            },
            "description": "Create a new company (recruiter only). Returns the created company with _id."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Job Management",
      "item": [
        {
          "name": "Get All Jobs",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/jobs?page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["jobs"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "type",
                  "value": "",
                  "description": "Optional: Filter by job type (internship/full-time)",
                  "disabled": true
                },
                {
                  "key": "title",
                  "value": "",
                  "description": "Optional: Search by title",
                  "disabled": true
                },
                {
                  "key": "tech",
                  "value": "",
                  "description": "Optional: Filter by tech stack (comma-separated)",
                  "disabled": true
                }
              ]
            },
            "description": "Get all jobs (public endpoint, paginated). Recruiters can filter to see only their company's jobs."
          },
          "response": []
        },
        {
          "name": "Get Job by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/jobs/{{jobId}}",
              "host": ["{{baseUrl}}"],
              "path": ["jobs", "{{jobId}}"]
            },
            "description": "Get details of a specific job."
          },
          "response": []
        },
        {
          "name": "Create Job",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('jobId', jsonData._id);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Senior Full Stack Developer\",\n  \"description\": \"We are looking for an experienced full stack developer...\",\n  \"jobType\": \"full-time\",\n  \"salaryStipend\": \"₹8,00,000 - ₹12,00,000\",\n  \"location\": \"Ahmedabad\",\n  \"requiredSkills\": [\"React\", \"Node.js\", \"MongoDB\", \"Express\"],\n  \"company\": \"{{companyId}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/jobs",
              "host": ["{{baseUrl}}"],
              "path": ["jobs"]
            },
            "description": "Create a new job posting (recruiter only). Company must match recruiter's linked company."
          },
          "response": []
        },
        {
          "name": "Update Job",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Updated Job Title\",\n  \"description\": \"Updated description\",\n  \"jobType\": \"internship\",\n  \"salaryStipend\": \"₹30,000/month\",\n  \"location\": \"Remote\",\n  \"requiredSkills\": [\"React\", \"JavaScript\"]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/jobs/{{jobId}}",
              "host": ["{{baseUrl}}"],
              "path": ["jobs", "{{jobId}}"]
            },
            "description": "Update a job posting. Only recruiter who owns the job can update it. All fields are optional."
          },
          "response": []
        },
        {
          "name": "Delete Job",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/jobs/{{jobId}}",
              "host": ["{{baseUrl}}"],
              "path": ["jobs", "{{jobId}}"]
            },
            "description": "Delete a job posting. Only recruiter who owns the job can delete it."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Application Management",
      "item": [
        {
          "name": "Get Applications for Job",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 && pm.response.json().applications.length > 0) {",
                  "    const jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('applicationId', jsonData.applications[0]._id);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/applications/job/{{jobId}}?page=1&limit=10&status=",
              "host": ["{{baseUrl}}"],
              "path": ["applications", "job", "{{jobId}}"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "status",
                  "value": "",
                  "description": "Optional: Filter by status (applied/reviewed/shortlisted/rejected/hired)",
                  "disabled": true
                }
              ]
            },
            "description": "Get all applications for a specific job. Only recruiter whose company owns the job can access."
          },
          "response": []
        },
        {
          "name": "Get All Company Applications",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/applications/company?page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["applications", "company"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "status",
                  "value": "",
                  "description": "Optional: Filter by status",
                  "disabled": true
                },
                {
                  "key": "jobId",
                  "value": "",
                  "description": "Optional: Filter by specific job ID",
                  "disabled": true
                }
              ]
            },
            "description": "Get all applications for all jobs posted by the recruiter's company."
          },
          "response": []
        },
        {
          "name": "Get Application by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/applications/{{applicationId}}",
              "host": ["{{baseUrl}}"],
              "path": ["applications", "{{applicationId}}"]
            },
            "description": "Get details of a specific application. Includes applicant and job information."
          },
          "response": []
        },
        {
          "name": "Update Application Status",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"shortlisted\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/applications/{{applicationId}}/status",
              "host": ["{{baseUrl}}"],
              "path": ["applications", "{{applicationId}}", "status"]
            },
            "description": "Update application status. Valid statuses: applied, reviewed, shortlisted, rejected, hired."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Profile Management",
      "item": [
        {
          "name": "Get Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/profile",
              "host": ["{{baseUrl}}"],
              "path": ["users", "profile"]
            },
            "description": "Get current user's profile information."
          },
          "response": []
        },
        {
          "name": "Update Profile",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Name\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/users/profile",
              "host": ["{{baseUrl}}"],
              "path": ["users", "profile"]
            },
            "description": "Update profile information (name)."
          },
          "response": []
        },
        {
          "name": "Upload Avatar",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "avatar",
                  "type": "file",
                  "src": []
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/users/avatar",
              "host": ["{{baseUrl}}"],
              "path": ["users", "avatar"]
            },
            "description": "Upload profile avatar image. Accepts: jpeg, jpg, png, gif. Max size: 2MB."
          },
          "response": []
        }
      ]
    }
  ]
}

